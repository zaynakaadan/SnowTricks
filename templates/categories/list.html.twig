{% extends 'base.html.twig' %}

{% block title %}
Liste des tricks de la categorie {{ category.name }}
{% endblock %}


{% block body %}
    <main class="container">
        <section class="row row-section">
            <div class="col-12">
                <h1>Liste des tricks de la categorie {{ category.name }}</h1>
            </div>

{% if tricks is not null and tricks.data is defined and tricks.data|length > 0 %}

            {% for trick  in tricks.data %}
        
                <div class="col-12 col-md-6 col-lg-4 mt-3">
                    <article class="card h-100 mt-3">
                      <img src="{{ asset('assets/img/tricks/mini/300x300-' ~ trick.images[0].name ) }}" class="card-img-top" alt="{{ trick.name }}">
                        <div class="card-body">
                            
                            
                            <a href="{{ path('tricks_details', {"slug": trick.slug}) }}" class="large-link" >{{ trick.name }}</a>
                            <div class="btn-group" role="group">
                                    <a href="{{ path('admin_tricks_edit', {'id': trick.id })}}" class="btn btn-success"><i class="far fa-edit fa-lg"></i></a>
                                    <a href="{{ path('admin_tricks_delete', {'id': trick.id })}}" class="btn btn-danger"><i class="far fa-trash-alt fa-lg"></i></a>
                            </div> 
                        </div>
                    </article>
                </div>
            {% endfor %}
            {% set path = 'categories_list' %}
            {% set slug = category.slug %}
            {% set pages = tricks.pages %}
            {% set currentPage = tricks.page %}
            {% include "_partials/_pagination.html.twig" %}
            {% else %}
             <strong>Il n'y a pas de trick dans cette cat√©gorie.</strong>
            {% endif %}
        </section>
    </main>
{% endblock %}